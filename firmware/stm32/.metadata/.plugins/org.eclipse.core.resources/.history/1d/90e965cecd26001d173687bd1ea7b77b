/*
 * bitfifo.c
 *
 *  Created on: Aug 28, 2022
 *      Author: pali
 */


#include <fifo.h>

void FIFO_init(FIFO* fifo, uint8_t* array, uint32_t size_in_bytes){
	fifo->buffer = array;
	fifo->start = 0;
	fifo->end = 0;
	fifo->size = size_in_bytes << 3;
}

void FIFO_set(FIFO* fifo, uint32_t place, uint8_t bit){
	if(bit){
		fifo->buffer[place>>3] |= (1 << (place % 8));
	}else{
		fifo->buffer[place>>3] |= (1 << (place % 8));
	}
}

void FIFO_push(FIFO* fifo, uint8_t bit){
	FIFO_set(fifo, fifo->end, bit);
}
